<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jogo da Mem√≥ria Colormaq</title>
<style>
body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f9; margin: 0; padding: 20px; }
h1 { color: #333; }
#controls { margin: 10px 0; display: flex; flex-direction: column; align-items: center; gap: 10px; }
#moves-container { width: 100%; max-width: 400px; }
#progress-bar { width: 100%; height: 20px; background: #ddd; border-radius: 10px; overflow: hidden; }
#progress { height: 100%; width: 100%; background: #2ecc71; transition: width 0.3s; }
#gameBoard { display: grid; gap: 10px; margin-top: 20px; max-width: 600px; margin-left: auto; margin-right: auto; }
.card { position: relative; width: 100%; aspect-ratio: 1/1; cursor: pointer; transform-style: preserve-3d; transition: transform 0.5s; border-radius: 10px; }
.card.flip { transform: rotateY(180deg); }
.front, .back { position: absolute; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; backface-visibility: hidden; border-radius: 10px; }
.front { background: #3498db; color: white; font-size: 24px; }
.back { transform: rotateY(180deg); background: white; border: 2px solid #3498db; overflow: hidden; }
.back img { width: 100%; height: 100%; object-fit: cover; border-radius: 8px; }
#message { margin-top: 15px; font-size: 20px; font-weight: bold; color: #e74c3c; min-height: 24px; }
#restartBtn { padding: 10px 20px; font-size: 16px; border: none; border-radius: 8px; background: #38bdf8; color: #001018; cursor: pointer; }
@media (min-width: 320px) { #gameBoard { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 480px) { #gameBoard { grid-template-columns: repeat(3, 1fr); } }
@media (min-width: 768px) { #gameBoard { grid-template-columns: repeat(4, 1fr); } }
</style>
</head>
<body>
<h1>Jogo da Mem√≥ria Colormaq</h1>
<div id="controls">
  <div id="s-container">
    <p>Movimentos restantes: <span id="s">16</span></p>
    <div id="progress-bar"><div id="progress"></div></div>
  </div>
  <button id="restartBtn">Reiniciar</button>
</div>
<div id="gameBoard"></div>
<p id="message"></p>

<script>
const board = document.getElementById("gameBoard");
const sSpan = document.getElementById("s");
const progress = document.getElementById("progress");
const message = document.getElementById("message");
const restartBtn = document.getElementById("restartBtn");

let hasFlipped = false, lockBoard = false, firstCard, secondCard;
let moves = 16, matches = 0;
const totalPairs = 8;

// Links diretos do GitHub
const images = [
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/cenbr.png",
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/cenpr.png",
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/lca%2014.png",
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/lcs10kgtopo.png",
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/lcs20kg.png",
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/pur%20elec.png",
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/pur%20pro.png",
  "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/refs/heads/main/purpremium.png"
];

function startGame(){
  hasFlipped = false; lockBoard = false; firstCard = null; secondCard = null;
  moves = 16; matches = 0; sSpan.textContent = moves; message.textContent = "";
  progress.style.width = "100%";

  board.innerHTML = "";
  let cardValues = [...images, ...images].sort(() => Math.random() - 0.5);
  cardValues.forEach(url => {
    const card = document.createElement("div");
    card.classList.add("card");
    card.innerHTML = '<div class="front"></div><div class="back"><img src="' + url + '" alt="img"></div>';
    board.appendChild(card);
    card.addEventListener("click", flipCard);
  });
}

function flipCard(){
  if(lockBoard || this === firstCard) return;
  if(moves <= 0) return;

  this.classList.add("flip");
  if(!hasFlipped){ hasFlipped = true; firstCard = this; return; }
  secondCard = this;
  checkMatch();
}

function checkMatch(){
  const isMatch = firstCard.querySelector("img").src === secondCard.querySelector("img").src;
  if(isMatch){
    disableCards();
    matches++;
    if(matches === totalPairs){ message.textContent = "üéâ Parab√©ns, voc√™ venceu!"; }
  } else { unflipCards(); }
  updateMoves();
}

function disableCards(){
  firstCard.removeEventListener("click", flipCard);
  secondCard.removeEventListener("click", flipCard);
  resetBoard();
}

function unflipCards(){
  lockBoard = true;
  setTimeout(() => { firstCard.classList.remove("flip"); secondCard.classList.remove("flip"); resetBoard(); }, 1000);
}

function resetBoard(){ [hasFlipped, lockBoard] = [false, false]; [firstCard, secondCard] = [null, null]; }

function updateMoves(){
  moves--;
  sSpan.textContent = moves;
  progress.style.width = ((moves / 16) * 100) + "%"; // corrigido
  if(moves === 3){ message.textContent = "‚ö†Ô∏è Faltam 3 movimentos!"; }
  if(moves <= 0 && matches < totalPairs){ message.textContent = "‚ùå N√£o foi dessa vez!"; lockBoard = true; }
}

restartBtn.addEventListener("click", startGame);
startGame();
</script>
</body>
</html>
