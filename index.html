<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo da MemÃ³ria</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 20px;
      background: #f4f4f4;
    }
    h1 {
      margin-bottom: 10px;
    }
    #game-board {
      display: grid;
      grid-template-columns: repeat(4, 100px);
      grid-gap: 10px;
      justify-content: center;
      margin: 20px auto;
    }
    .card {
      width: 100px;
      height: 100px;
      background: #3498db;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    .card img {
      width: 100%;
      height: 100%;
      display: none;
    }
    .card.flipped img {
      display: block;
    }
    #mensagem {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
    }
    #barra-progresso {
      width: 80%;
      height: 20px;
      margin: 10px auto;
      background: #ddd;
      border-radius: 10px;
      overflow: hidden;
    }
    #progresso {
      height: 100%;
      width: 0%;
      background: #2ecc71;
    }
    #reiniciar {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background: #e74c3c;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #reiniciar:hover {
      background: #c0392b;
    }
  </style>
</head>
<body>

  <h1>Jogo da MemÃ³ria</h1>
  <div id="barra-progresso"><div id="progresso"></div></div>
  <p id="mensagem">VocÃª tem 16 movimentos!</p>
  <div id="game-board"></div>
  <button id="reiniciar">ðŸ”„ Reiniciar</button>

  <script>
    const imagens = [
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/cenbr.png",
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/cenpr.png",
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/lca%2014.png",
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/lcs10kgtopo.png",
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/lcs20kg.png",
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/pur%20elec.png",
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/pur%20pro.png",
      "https://raw.githubusercontent.com/maelmedeiros/jogomemoriav4/main/purpremium.png"
    ];

    let movimentos = 0;
    let limiteMovimentos = 16;
    let totalMovimentos = 0;
    let cartaVirada = null;
    let bloqueio = false;

    const tabuleiro = document.getElementById("game-board");
    const mensagem = document.getElementById("mensagem");
    const progresso = document.getElementById("progresso");
    const reiniciarBtn = document.getElementById("reiniciar");

    function iniciarJogo() {
      tabuleiro.innerHTML = "";
      movimentos = 0;
      totalMovimentos = 0;
      cartaVirada = null;
      bloqueio = false;
      progresso.style.width = "0%";
      mensagem.textContent = `VocÃª tem ${limiteMovimentos} movimentos!`;

      let cartas = [...imagens, ...imagens];
      cartas.sort(() => 0.5 - Math.random());

      cartas.forEach(src => {
        const card = document.createElement("div");
        card.classList.add("card");
        const img = document.createElement("img");
        img.src = src;
        card.appendChild(img);
        card.addEventListener("click", () => virarCarta(card, src));
        tabuleiro.appendChild(card);
      });
    }

    function virarCarta(card, src) {
      if (bloqueio || card.classList.contains("flipped")) return;
      card.classList.add("flipped");
      totalMovimentos++;
      atualizarProgresso();

      if (!cartaVirada) {
        cartaVirada = { card, src };
      } else {
        if (cartaVirada.src === src) {
          cartaVirada = null;
        } else {
          bloqueio = true;
          setTimeout(() => {
            card.classList.remove("flipped");
            cartaVirada.card.classList.remove("flipped");
            cartaVirada = null;
            bloqueio = false;
          }, 1000);
        }
      }

      if (totalMovimentos >= limiteMovimentos) {
        mensagem.textContent = "NÃ£o foi dessa vez!";
        bloqueio = true;
      } else {
        let restantes = limiteMovimentos - totalMovimentos;
        mensagem.textContent = `Faltam ${restantes} movimentos.`;
      }
    }

    function atualizarProgresso() {
      let progressoAtual = (totalMovimentos / limiteMovimentos) * 100;
      progresso.style.width = `${progressoAtual}%`;
    }

    reiniciarBtn.addEventListener("click", iniciarJogo);

    iniciarJogo();
  </script>
</body>
</html>
